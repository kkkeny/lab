<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
		<title>location</title>
		<meta name="description" content="" />
		<meta name="author" content="wangsha" />
		<meta name="viewport" content="width=device-width; initial-scale=1.0" />
		<link rel="shortcut icon" href="/favicon.ico" />
		<link rel="apple-touch-icon" href="/apple-touch-icon.png" />
		<script type="text/javascript" src="http://maps.google.com/maps/api/js?sensor=false"></script>
	</head>
	<body>
		<div>
			<div id="coord">你现在的位置是——</div>
			<p>地图位置</p>
			<div id="maps" style="width: 800px;height:500px;border: 1px solid #f0f;"></div>
		</div>
		<script type="text/javascript">
			if(navigator.geolocation){
			    navigator.geolocation.getCurrentPosition(function(p){
			    	var latitude=p.coords.latitude;
			    	var longitude=p.coords.longitude;
			    	document.getElementById("coord").innerHTML="你现在的位置是——纬度："+latitude+",经度："+longitude;
			    	var mapOptions={
			    		zoom:11,
			    		center:new google.maps.LatLng(latitude,longitude),
			    		mapTypeId:google.maps.MapTypeId.ROADMAP
			    	};
        			var map = new google.maps.Map(document.getElementById('maps'),mapOptions); 
        			//在地图上创建标记
					var marker = new google.maps.Marker({
						position : new google.maps.LatLng(latitude,longitude), //将前面设定的坐标标注出来
						map : map //将该标注设置在刚才创建的map中
					});
			    });
			}else{
			    alert("不支持");
			}
			
		</script>
	</body>
</html>
